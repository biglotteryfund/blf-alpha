{% extends "controllers/tools/views/layout.njk" %}
{% from "./user-helpers.njk" import listErrors with context %}

{% block title %}Log in{% endblock %}

{% block content %}
    {% if alertMessage %}
        <div class="alert alert-info" role="alert">
            {{ alertMessage }}
        </div>
    {% endif %}

    <h1>Log in</h1>

    <form action="{{ makeUserLink('login') }}" method="post" autocomplete="off">
        {{ listErrors() }}

        {% if csrfToken %}
            <input type="hidden" name="_csrf" value="{{ csrfToken }}">
        {% endif %}

        <div class="form-group">
            <label for="username">Email address</label>
            <input type="email"
                   class="form-control"
                   id="username"
                   placeholder="Your email address"
                   name="username"
                   required
                   aria-required="true"
                   value="{{ formValues['username'] }}">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password"
                   class="form-control"
                   id="password"
                   placeholder="Your password"
                   name="password"
                   required
                   aria-required="true">
        </div>
        <div class="form-group">
            <input type="submit" class="btn btn-primary" value="Log in" />
            or <a href="{{ makeUserLink('register') }}">register</a>
        </div>
        <small><a href="/user/forgotten-password">Forgotten your password?</a></small>
    </form>
{% endblock %}
