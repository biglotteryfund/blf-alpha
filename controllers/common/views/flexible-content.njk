{% extends "layouts/main.njk" %}
{% from "components/hero.njk" import hero with context %}
{% from "components/flexible-content/macro.njk" import flexibleContent as flexibleContentArea %}
{% from "components/flexible-content-next/macro.njk" import flexibleContent as flexibleContentAreaNext %}

{% from "components/breadcrumb-trail/macro.njk" import breadcrumbTrail %}

{% block content %}
    <main role="main" id="content">
        {{ hero(title, pageHero.image) }}

        <div class="nudge-up">

            {% if useFlexNext %}
                {{ flexibleContentAreaNext(
                    flexibleContent,
                    breadcrumbs = breadcrumbTrail(breadcrumbs)
                ) }}
            {% else %}
                <section class="content-box u-inner-wide-only">
                    {{ breadcrumbTrail(breadcrumbs) }}
                    {#  @TODO gradually deprecate this #}
                    {{ flexibleContentArea(flexibleContent) }}
                </section>
            {% endif %}
        </div>
    </main>
{% endblock %}
