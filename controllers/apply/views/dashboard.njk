{% extends "layouts/main.njk" %}
{% from "components/action-card/macro.njk" import actionCard %}
{% from "components/application-card/macro.njk" import applicationCard with context %}
{% from "components/user-navigation/macro.njk" import userNavigation with context %}

{% block content %}
    <main role="main" id="content">
        <section class="content-box u-inner-wide-only">
            {{ userNavigation() }}

            <h1 class="t--underline">{{ title }}</h1>

            {% if latestApplication %}
                <div class="s-prose">
                    <p>
                        Pick up where you left off, start a new application or
                        <a href="{{ localify('/apply/all' ) }}">view all active applications</a>
                    </p>
                </div>

                <div class="flex-grid">
                    <div class="flex-grid__item">
                        {{ applicationCard(latestApplication) }}
                    </div>
                    <div class="flex-grid__item">
                        <div> {# Needed for multiple cards inside a flex-grid row #}
                            {{ actionCard(
                                copy.actions.simple,
                                isSecondary = hasPendingSimpleApplication
                            ) }}

                            {{ actionCard(
                                copy.actions.standard,
                                isSecondary = hasPendingStandardApplication
                            ) }}
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="s-prose"><p>{{ copy.noApplications }}</p></div>

                <div class="flex-grid">
                    <div class="flex-grid__item">
                        {{ actionCard(copy.actions.simple) }}
                    </div>
                    <div class="flex-grid__item">
                        {{ actionCard(copy.actions.standard) }}
                    </div>
                </div>
            {% endif %}

        </section>
    </main>
{% endblock %}
