{% from "components/hero.njk" import hero with context %}
{% from "components/section-links/macro.njk" import sectionLinks %}
{% from "components/programmes.njk" import programmeCard with context %}
{% from "components/promo-card/macro.njk" import promoCard with context %}

{% extends "layouts/main.njk" %}

{% block content %}
    <main role="main" id="content">
        {{ hero(title, pageHero.image) }}

        <div class="nudge-up">
            <section class="content-box u-inner-wide-only">
                {{ sectionLinks(copy.sectionLinks) }}
            </section>

            {% if latestProgrammes.length > 0 %}
                <section class="u-inner">
                    <h2 class="t--underline">{{ copy.latestProgrammesPartnerships }}</h2>
                    <ul class="flex-grid flex-grid--3up">
                        {% for programme in latestProgrammes %}
                            <li class="flex-grid__item">
                                {{ programmeCard(programme) }}
                            </li>
                        {% endfor %}
                        {% if bigLunch %}
                            <li class="flex-grid__item">
                                {{ promoCard({
                                    "title": bigLunch.title,
                                    "trailText": bigLunch.introduction | safe,
                                    "image": {
                                        "url": bigLunch.heroNew.image.default,
                                        "alt": bigLunch.heroNew.image.caption
                                    },
                                    "link": {
                                        "url": bigLunch.linkUrl
                                    }
                                }) }}
                            </li>
                        {% endif %}
                    </ul>
                </section>
            {% endif %}
        </div>
    </main>
{% endblock %}
