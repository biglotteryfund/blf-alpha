{% import "components/hero.njk" as hero %}
{% import "components/headers.njk" as headers %}

{% extends "../../layouts/main.njk" %}

{% macro statBlock(counter, number, caption, flip = false) %}
    <li class="stats__icon stats__icon--{{ counter }}">
        <dl>
            {% if not flip %}
                <dt>{{ number }}</dt>
                <dd>{{ caption }}</dd>
            {% else %}
                <dd>{{ number }}</dd>
                <dt>{{ caption }}</dt>
            {% endif %}
        </dl>
    </li>
{% endmacro %}


{% block content %}

    {% set heroContent %}
        <div class="nudge-bottom accent--green">
            {{ headers.blockheader('h2', 'What did we fund near you?', 30, 'hero__header') }}
            <form class="form-fund form-fund--inline m-l" action="/lookup">
                <input type="text" aria-label="Enter a postcode" placeholder="eg. B14 7EW" name="postcode">
                <input type="submit" class="btn btn--cta btn--pink btn--cta--large" value="Look up awards">
            </form>
        </div>
    {% endset %}

    {{ hero.header('data', heroContent, 'pink') }}

    <article role="main" class="nudge-up">
        <div class="inner p-text accent--pink accent-b-t bg-plain stats-holder pos-rel">
            <h3 class="t3 m-t">Our year in numbers</h3>

            <ul class="unstyled grid grid--3-up grid--equal grid--wide-only grid--bordered">
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
                <li class="grid__item">hello</li>
            </ul>

            <button class="btn--carousel btn--carousel--prev js-carousel-prev">
                {% include "../../includes/svg/arrow-left.svg" %}
                <span class="visually-hidden">Previous item</span>
            </button>
            <button class="btn--carousel btn--carousel--next js-carousel-next">
                {% include "../../includes/svg/arrow-right.svg" %}
                <span class="visually-hidden">Next item</span>
            </button>

            <ul class="stats js-carousel unstyled">
                {{ statBlock(1, '11,779', 'Awards made') }}
                {{ statBlock(2, '91.3%', 'Percentage of awards to the voluntary & community sectors') }}
                {{ statBlock(3, '89.1%', 'Percentage of awards for less than £10,000') }}
                {{ statBlock(4, 'Total grantmaking', '£650 million', flip = true) }}
                {{ statBlock(5, '6.6%', 'Total operating costs') }}
                {{ statBlock(6, '£276', 'Smallest award made through the Communities £ Families Fund') }}
            </ul>
        </div>
    </article>


    <article role="main" class="accent--turquoise accent-b-t map-holder">
        <div class="inner--wide-only p-text pos-rel">
            <h3 class="t3 m-b--l m-t">Where we fund projects</h3>

            <div class="map-wrapper">
                {% include "../../includes/uk-svg.njk" %}
            </div>

            <div class="map-info hidden accent--turquoise accent-b-t p-text bg-plain" id="js-map-info">
                <h4 class="t3 m-b" id="js-region-name"></h4>
                <h5 class="t4 m-b-none accent-text" id="js-num-grants"></h5>
                <h6 class="t5">Total Grants</h6>
                <h5 class="t4 m-t accent-text" id="js-num-awards"></h5>
                <h6 class="t5">Total Awarded</h6>
                <a class="btn btn--cta btn--block" id="js-read-more" href="#">Find out more</a>
            </div>
        </div>
    </article>

{% endblock %}