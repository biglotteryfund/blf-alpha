{% from "../../components/hero.njk" import sectionHero %}
{% from "../../components/programmes.njk" import programmeList %}

{% extends "../../layouts/main.njk" %}
{% set bodyClass = "has-full-bleed-header" %}

{% block title %}{{ title }} | {% endblock %}

{% macro breadcrumbTrail(items, trail) %}
    {% if trail | length > 0 %}
    <ol class="breadcrumb-trail">
        {% for crumb in trail %}
        <li class="breadcrumb-trail__item">
            {% set showUrl = crumb.url  %}
            {% if showUrl %}<a class="breadcrumb-trail__link" href="{{ crumb.url }}">{% endif %}
            {{ crumb.label }}
            {% if loop.last %}({{ (items | length) }}){% endif %}
            {% if showUrl %}</a>{% endif %}
        </li>
        {% endfor %}
    </ol>
    {% endif %}
{% endmacro %}

{% block content %}
    <main role="main">
        {{ sectionHero(
            titleText = title,
            image = createHeroImage({
                small: 'images/hero/young-foundation-small.jpg',
                medium: 'images/hero/young-foundation-medium.jpg',
                large: 'images/hero/young-foundation-large.jpg',
                default: 'images/hero/young-foundation-medium.jpg',
                caption: 'The Young Foundation - Amplify, Grant Â£1.06M'
            }),
            accent = 'green'
        ) }}

        <section class="inner--wide-only content-box content-box--flush accent--green a--border-top nudge-up">
            {{ breadcrumbTrail(programmes, activeBreadcrumbs) }}

            {% if programmes | length > 0 %}
                {{ programmeList(programmes = programmes, accent = 'pink') }}
            {% else %}
                <p>No results</p>
            {% endif %}
        </section>
    </main>
{% endblock %}
