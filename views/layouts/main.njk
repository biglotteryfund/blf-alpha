<!doctype html>
<html lang="{{ locale }}" class="no-js locale--{{ locale }}">
    <head>
        <title>{% block title %}{{ title }} | {% endblock %}{{ globalCopy.brand.title }}</title>
        {% include "includes/metadata.njk" %}
        {% include "includes/metaHead.njk" %}
        {% block extraHead %}{% endblock %}

        <script>
        var serviceUrl = "//api.reciteme.com/asset/js?key=";
        var serviceKey = "ecb9ea5249a43ddce8065e1aa550f12a6e682799";
        var options = {};  // Options can be added as needed
        var autoLoad = false;
        var enableFragment = "#reciteEnable";
        var loaded = [], frag = !1; window.location.hash === enableFragment && (frag = !0); function loadScript(c, b) { var a = document.createElement("script"); a.type = "text/javascript"; a.readyState ? a.onreadystatechange = function () { if ("loaded" == a.readyState || "complete" == a.readyState) a.onreadystatechange = null, void 0 != b && b() } : void 0 != b && (a.onload = function () { b() }); a.src = c; document.getElementsByTagName("head")[0].appendChild(a) } function _rc(c) { c += "="; for (var b = document.cookie.split(";"), a = 0; a < b.length; a++) { for (var d = b[a]; " " == d.charAt(0);)d = d.substring(1, d.length); if (0 == d.indexOf(c)) return d.substring(c.length, d.length) } return null } function loadService(c) { for (var b = serviceUrl + serviceKey, a = 0; a < loaded.length; a++)if (loaded[a] == b) return; loaded.push(b); loadScript(serviceUrl + serviceKey, function () { "function" === typeof _reciteLoaded && _reciteLoaded(); "function" == typeof c && c(); Recite.load(options); Recite.Event.subscribe("Recite:load", function () { Recite.enable() }) }) } "true" == _rc("Recite.Persist") && loadService(); if (autoLoad && "false" != _rc("Recite.Persist") || frag) document.addEventListener ? document.addEventListener("DOMContentLoaded", function (c) { loadService() }) : loadService();

        document.addEventListener("DOMContentLoaded", function(event) {
            document.getElementById('enableRecite').addEventListener("click", function() {
                loadService();
                console.log("Enable recite!");
            });
        });
    </script>
    </head>
    <body{% if bodyClass %} class="{{ bodyClass }}"{% endif %}>
        <nav class="accessibility-nav" role="navigation" aria-label="accessibility">
            {% set a11yCopy = __('global.accessibility') %}
            <ul>
                <li><a href="#content" tabindex="0">{{ a11yCopy.skipToContent | safe }}</a></li>
                <li><a href="{{ a11yCopy.policy.link }}" title="{{ a11yCopy.policy.description }}">{{ a11yCopy.policy.label }}</a></li>
            </ul>
        </nav>

        <div class="global-container">
            {# Status and announcement banners #}
            {% if previewStatus.isPreview %}
                <aside class="announcement-banner announcement-banner--info">
                    ✋ You are viewing a draft (last updated {{ previewStatus.lastUpdated }}).
                    Please do not share this page. <a href="{{ getCurrentUrl() }}">View original</a>
                </aside>
            {% elseif appData.isNotProduction and not appData.isDev %}
                <aside class="announcement-banner announcement-banner--info">
                    ✋ This is a test environment. Please do not share this page.
                </aside>
            {% endif %}

            {# Cookie consent #}
            {% set cookieLang = __('global.cookieConsent') %}
            <div id="js-cookie-consent">
                <cookie-consent
                    title='{{ cookieLang.title }}'
                    message='{{ cookieLang.message }}'
                    actionall='{{ cookieLang.actionAll }}'
                    actionessential='{{ cookieLang.actionEssential }}'
                    policyurl='{{ cookieLang.policyURL }}'
                ></cookie-consent>
            </div>

            {% include "includes/global-header.njk" %}

            {% block content %}{% endblock %}

            {% include "includes/global-footer.njk" %}
        </div>

        {% block modals %}{% endblock %}

        {% include "includes/metaFooterJS.njk" %}
    </body>
</html>
