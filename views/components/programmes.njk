{% macro programmeStats(programme, isCompact) %}
    {% set labels = __('global.programmes.programmeLabels') %}
    <dl class="o-definition-list{% if isCompact %} o-definition-list--compact{% endif %}">
        {% if programme.area %}
            <dt>{{ labels.area }}</dt>
            <dd>{{ programme.area.label }}</dd>
        {% endif %}
        
        {% if programme.organisationType %}
            <dt>{{ labels.organisationTypes }}</dt>
            <dd>{{ programme.organisationType }}</dd>
        {% endif %}

        {% if programme.fundingSize.description %}
            <dt>{{ labels.fundingSize }}</dt>
            <dd>{{ programme.fundingSize.description }}</dd>
        {% elseif programme.fundingSize.minimum and programme.fundingSize.maximum %}
            <dt>{{ labels.fundingSize }}</dt>
            <dd>£{{ programme.fundingSize.minimum | numberWithCommas}}{% if programme.fundingSize.maximum %} {{ __('global.misc.to') }} £{{ programme.fundingSize.maximum | numberWithCommas }}{% endif %}</dd>
        {% endif %}

        {% if programme.fundingSize.totalAvailable %}
            <dt>{{ labels.totalAvailable }}</dt>
            <dd>{{ programme.fundingSize.totalAvailable }}</dd>
        {% endif %}

        {% if programme.applicationDeadline %}
            <dt>{{ labels.applicationDeadline }}</dt>
            <dd>{{ programme.applicationDeadline | safe }}</dd>
        {% endif %}
    </dl>
{% endmacro %}

{% macro programmeCard(programme) %}
    <article class="programme-card qa-programme-card">
        {% if programme.trailImage %}
            <div class="programme-card__media">
                <img src="{{ programme.trailImageNew if useNewBrand and programme.trailImageNew else programme.trailImage }}" alt="{{ programme.hero.caption }}"/>
            </div>
        {% endif %}
        <div class="programme-card__body">
            <header class="programme-card__header">
                <h3 class="programme-card__title">
                    <a class="u-link-minimal" href="{{ programme.linkUrl }}">
                        {{ programme.title }}
                    </a>
                </h3>
            </header>
            {% if programme.description %}
                <div class="programme-card__description">
                    {{ programme.description | safe }}
                </div>
            {% endif %}
            <div class="programme-card__details">
                {{ programmeStats(programme) }}
            </div>
        </div>
    </article>
{% endmacro %}


{% macro relatedProgrammes(programmes) %}
    {% if programmes.length > 0 %}
        <div class="u-tone-background-tint u-padded u-margin-top-l">
            {% for programme in programmes %}
                <div class="o-media u-margin-bottom">
                    {% if programme.photo %}
                        <img src="{{ programme.thumbnail }}"
                             alt="{{ programme.title }}"
                             class="o-media-figure"
                             width="100" />
                    {% endif %}
                    <div class="o-media-body">
                        <h4 class="a--text accent--{{ pageAccent }}">{{ programme.title }}</h4>
                        {{ programme.intro | safe }}
                        <p class="u-no-margin"><a href="{{ programme.linkUrl }}">{{ __('news.readMoreAboutProgramme') }}</a></p>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endmacro %}
