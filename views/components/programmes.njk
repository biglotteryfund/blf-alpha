{% macro programmeStats(programme, isCompact) %}
    {% set labels = __('global.programmes.programmeLabels') %}
    <dl class="o-definition-list{% if isCompact %} o-definition-list--compact{% endif %}">
        {% if programme.area %}
            <dt>{{ labels.area }}</dt>
            <dd>{{ programme.area.label }}</dd>
        {% endif %}
        {% if programme.organisationType %}
            <dt>{{ labels.organisationTypes }}</dt>
            <dd>{{ programme.organisationType }}</dd>
        {% endif %}

        {% if programme.fundingSize.description %}
            <dt>{{ labels.fundingSize }}</dt>
            <dd>{{ programme.fundingSizeDescription }}</dd>
        {% elseif programme.fundingSize.minimum and programme.fundingSize.minimum %}
            <dt>{{ labels.fundingSize }}</dt>
            <dd>£{{ programme.fundingSize.minimum | numberWithCommas}}{% if programme.fundingSize.maximum %} to £{{ programme.fundingSize.maximum | numberWithCommas }}{% endif %}</dd>
        {% endif %}

        {% if programme.fundingSize.totalAvailable %}
            <dt>{{ labels.totalAvailable }}</dt>
            <dd>{{ programme.fundingSize.totalAvailable }}</dd>
        {% endif %}

        {% if programme.applicationDeadline %}
            <dt>{{ labels.applicationDeadline }}</dt>
            <dd>{{ programme.applicationDeadline | safe }}</dd>
        {% endif %}
    </dl>
{% endmacro %}

{% macro programmeCard(programme, accent, isMinimal) %}
    <article
        class="programme-card{% if isMinimal %} programme-card--minimal{% else %} accent--{{ accent }} a--border-top a--border-color{% endif %} qa-programme-card">
        <header class="programme-card__header">
            <h3 class="programme-card__title t1">
                <a class="u-link-minimal{% if not isMinimal %} accent--{{ accent }} a--text{% endif %}" href="{{ programme.linkUrl }}">
                    {{ programme.title }}
                </a>
            </h3>
            {% if programme.thumbnail %}
                <div class="programme-card__media">
                    <img src="{{ programme.thumbnail }}" alt=""/>
                </div>
            {% endif %}
        </header>
        <div class="programme-card__body">
            {% if programme.description %}
                <div class="programme-card__description">
                    {{ programme.description | safe }}
                </div>
            {% endif %}
            <div class="programme-card__details">
                {{ programmeStats(programme) }}
            </div>
        </div>
    </article>
{% endmacro %}

{% macro programmeList(programmes, accent) %}
    <ol class="programmes-list">
        {% for programme in programmes %}
            <li class="programmes-list__item">
                {{ programmeCard(
                    programme = programme,
                    accent = accent
                ) }}
            </li>
        {% endfor %}
    </ol>
{% endmacro %}
