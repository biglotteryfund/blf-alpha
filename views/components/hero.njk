{% from "components/page-title/macro.njk" import pageTitle %}

{% macro hero(titleText, image) %}
    <section class="hero">
        <div class="hero__image">
            <picture>
                <source srcset="{{ image.large }}" media="(min-width: 980px)">
                <source srcset="{{ image.medium }}" media="(min-width: 600px)">
                <source srcset="{{ image.small }}">
                <img src="{{ image.default }}" alt="{{ image.caption }}" />
            </picture>
        </div>
        <div class="hero__content">
            <div class="hero__header u-inner">
                <div class="hero__header__inner">
                    {{ pageTitle(titleText, isConstrained = false) }}
                </div>
            </div>
        </div>

        {% if image.caption %}
            <span class="hero__caption u-desktop-only">
                {% if image.grantId %}
                    <a href="{{ localify("/funding/grants/" + image.grantId) }}" class="u-link-unstyled">
                {% endif %}
                <span class="u-caption">{{ image.caption }}</span>
                {% if image.grantId %}</a>{% endif %}
            </span>
        {% endif %}
    </section>
{% endmacro %}
