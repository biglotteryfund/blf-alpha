{% from "components/overlay-text/macro.njk" import overlayText %}

{% macro hero(titleText, image, accent = 'blue') %}
    <section class="hero">
        <div class="hero__image">
            <picture>
                <source srcset="{{ image.large }}" media="(min-width: 980px)">
                <source srcset="{{ image.medium }}" media="(min-width: 600px)">
                <source srcset="{{ image.small }}">
                <img src="{{ image.default }}" alt="{{ image.caption }}" />
            </picture>
        </div>
        <div class="hero__content">
            <div class="hero__header u-inner" id="content">
                <div class="hero__header__inner">
                    <h1 class="hero__title t4">
                        {% call overlayText(accent = accent) %}
                            {{ titleText }}
                        {% endcall %}
                    </h1>
                </div>
            </div>
            {% if image.caption %}
                <span class="hero__caption u-desktop-only">
                    <span class="u-caption">{{ image.caption }}</span>
                </span>
            {% endif %}
        </div>
    </section>
{% endmacro %}

{% macro superHero(title, imageDefault, imageCandidates) %}
    <section class="super-hero{% if imageCandidates.length > 0 %} super-hero--has-candidates{% endif %} js-random-hero" data-image-candidates='{{ imageCandidates | dump | safe }}'>
        <div class="super-hero__image js-random-hero__image">
            <picture>
                <source srcset="{{ imageDefault.large }}" media="(min-width: 980px)">
                <source srcset="{{ imageDefault.medium }}" media="(min-width: 600px)">
                <source srcset="{{ imageDefault.small }}">
                <img src="{{ imageDefault.default }}" alt="{{ imageDefault.caption }}" />
            </picture>
        </div>

        <div class="super-hero__content">
            <div class="super-hero__header u-inner" id="content">
                <h1 class="super-hero__title">{{ title | safe }}</h1>
                {{ caller() }}
            </div>
            {% if imageDefault.caption %}
                <div class="super-hero__caption u-desktop-only">
                    <span class="u-caption js-random-hero__caption">
                        {{ imageDefault.caption }}
                    </span>
                </div>
            {% endif %}
        </div>
    </section>
{% endmacro %}

